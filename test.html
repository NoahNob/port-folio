<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Générateur de Personnages One Piece</title>
    <style>
        :root {
            --primary: #D32F2F;
            --secondary: #1565C0;
            --background: #f5f5f5;
            --card: #ffffff;
            --text: #333333;
            --accent: #FFC107;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--background);
            color: var(--text);
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 20px;
        }
        
        h1 {
            color: var(--primary);
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .main-content {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .generator-panel {
            flex: 1;
            min-width: 300px;
            background-color: var(--card);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .character-card {
            flex: 1;
            min-width: 300px;
            background-color: var(--card);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        input, select, button {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        button {
            background-color: var(--secondary);
            color: white;
            border: none;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
            margin-top: 15px;
        }
        
        button:hover {
            background-color: #0D47A1;
        }
        
        .character-section {
            margin-bottom: 20px;
        }
        
        .character-section h3 {
            color: var(--secondary);
            border-bottom: 2px solid var(--accent);
            padding-bottom: 5px;
            margin-bottom: 10px;
        }
        
        .character-portrait {
            width: 100%;
            height: 200px;
            background-color: #eee;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .character-portrait svg {
            max-width: 100%;
            max-height: 100%;
        }
        
        .tab-container {
            margin-top: 20px;
        }
        
        .tabs {
            display: flex;
            border-bottom: 1px solid #ddd;
        }
        
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            background-color: #eee;
            border: 1px solid #ddd;
            border-bottom: none;
            border-radius: 5px 5px 0 0;
            margin-right: 5px;
        }
        
        .tab.active {
            background-color: var(--card);
            border-bottom: 1px solid var(--card);
            margin-bottom: -1px;
            font-weight: bold;
            color: var(--secondary);
        }
        
        .tab-content {
            display: none;
            padding: 20px;
            border: 1px solid #ddd;
            border-top: none;
            background-color: var(--card);
        }
        
        .tab-content.active {
            display: block;
        }
        
        .toggle-switch {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .toggle-switch label {
            margin-right: 10px;
            margin-bottom: 0;
        }
        
        #histoire {
            min-height: 100px;
            resize: vertical;
        }
        
        .skill-list {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 10px;
        }
        
        .skill-item {
            display: flex;
            justify-content: space-between;
            padding: 5px;
            background-color: #f9f9f9;
            border-radius: 3px;
        }
        
        .attribution {
            text-align: center;
            margin-top: 30px;
            font-size: 0.8rem;
            color: #666;
        }
        
        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            .skill-list {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Générateur de Personnages One Piece</h1>
            <p>Créez votre propre personnage original pour l'univers de One Piece</p>
        </header>
        
        <div class="main-content">
            <div class="generator-panel">
                <h2>Paramètres du Personnage</h2>
                
                <div class="form-group">
                    <label for="nom">Nom:</label>
                    <input type="text" id="nom" placeholder="Entrez un nom ou générez aléatoirement">
                </div>
                
                <div class="form-group">
                    <label for="sexe">Sexe:</label>
                    <select id="sexe">
                        <option value="aléatoire">Aléatoire</option>
                        <option value="homme">Homme</option>
                        <option value="femme">Femme</option>
                        <option value="autre">Autre</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="race">Race:</label>
                    <select id="race">
                        <option value="aléatoire">Aléatoire</option>
                        <option value="humain">Humain</option>
                        <option value="géant">Géant</option>
                        <option value="homme-poisson">Homme-Poisson</option>
                        <option value="mink">Mink</option>
                        <option value="tontatta">Tontatta</option>
                        <option value="longues-jambes">Longues-Jambes</option>
                        <option value="longs-bras">Longs-Bras</option>
                        <option value="homme-serpent">Homme-Serpent</option>
                        <option value="skypiean">Skypiéen</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="faction">Faction:</label>
                    <select id="faction">
                        <option value="aléatoire">Aléatoire</option>
                        <option value="pirate">Pirate</option>
                        <option value="marine">Marine</option>
                        <option value="révolutionnaire">Révolutionnaire</option>
                        <option value="chasseur-primes">Chasseur de Primes</option>
                        <option value="civil">Civil</option>
                        <option value="cp">Cipher Pol</option>
                        <option value="gouvernement">Gouvernement Mondial</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="fruit-du-demon">Fruit du Démon:</label>
                    <select id="fruit-du-demon">
                        <option value="aléatoire">Aléatoire</option>
                        <option value="aucun">Aucun</option>
                        <option value="paramecia">Paramecia</option>
                        <option value="zoan">Zoan</option>
                        <option value="logia">Logia</option>
                        <option value="zoan-mythique">Zoan Mythique</option>
                        <option value="zoan-antique">Zoan Antique</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="haki">Maîtrise du Haki:</label>
                    <select id="haki">
                        <option value="aléatoire">Aléatoire</option>
                        <option value="aucun">Aucun</option>
                        <option value="observation">Observation</option>
                        <option value="armement">Armement</option>
                        <option value="royal">Royal</option>
                        <option value="observation-armement">Observation et Armement</option>
                        <option value="tous">Les Trois Types</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="arme">Type d'Arme:</label>
                    <select id="arme">
                        <option value="aléatoire">Aléatoire</option>
                        <option value="aucune">Aucune</option>
                        <option value="sabre">Sabre</option>
                        <option value="épée">Épée</option>
                        <option value="pistolet">Pistolet</option>
                        <option value="fusil">Fusil</option>
                        <option value="lance">Lance</option>
                        <option value="bâton">Bâton</option>
                        <option value="griffes">Griffes</option>
                        <option value="autre">Autre</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="lieu-origine">Lieu d'Origine:</label>
                    <select id="lieu-origine">
                        <option value="aléatoire">Aléatoire</option>
                        <option value="east-blue">East Blue</option>
                        <option value="west-blue">West Blue</option>
                        <option value="north-blue">North Blue</option>
                        <option value="south-blue">South Blue</option>
                        <option value="grand-line">Grand Line</option>
                        <option value="nouveau-monde">Nouveau Monde</option>
                        <option value="red-line">Red Line</option>
                        <option value="skypiea">Skypiea</option>
                        <option value="pays-wano">Pays de Wano</option>
                    </select>
                </div>
                
                <button id="generer-btn">Générer le Personnage</button>
                <button id="reinitialiser-btn">Réinitialiser</button>
            </div>
            
            <div class="character-card">
                <h2>Votre Personnage One Piece</h2>
                
                <div class="character-portrait" id="character-portrait">
                    <svg viewBox="0 0 200 200" id="character-svg">
                        <text x="50%" y="50%" text-anchor="middle" dominant-baseline="middle" font-size="12">
                            Le portrait de votre personnage apparaîtra ici
                        </text>
                    </svg>
                </div>
                
                <div class="character-section">
                    <h3>Identité</h3>
                    <p><strong>Nom:</strong> <span id="result-nom">-</span></p>
                    <p><strong>Surnom:</strong> <span id="result-surnom">-</span></p>
                    <p><strong>Âge:</strong> <span id="result-age">-</span> ans</p>
                    <p><strong>Sexe:</strong> <span id="result-sexe">-</span></p>
                    <p><strong>Race:</strong> <span id="result-race">-</span></p>
                    <p><strong>Origine:</strong> <span id="result-origine">-</span></p>
                    <p><strong>Faction:</strong> <span id="result-faction">-</span></p>
                    <p><strong>Prime:</strong> <span id="result-prime">-</span> Berrys</p>
                </div>
                
                <div class="tab-container">
                    <div class="tabs">
                        <div class="tab active" data-tab="pouvoirs">Pouvoirs</div>
                        <div class="tab" data-tab="apparence">Apparence</div>
                        <div class="tab" data-tab="personnalite">Personnalité</div>
                        <div class="tab" data-tab="histoire">Histoire</div>
                    </div>
                    
                    <div class="tab-content active" id="pouvoirs-content">
                        <div class="character-section">
                            <h3>Capacités</h3>
                            <p><strong>Fruit du Démon:</strong> <span id="result-fruit-nom">-</span></p>
                            <p><strong>Type:</strong> <span id="result-fruit-type">-</span></p>
                            <p><strong>Capacités:</strong> <span id="result-fruit-capacites">-</span></p>
                            
                            <h3>Haki</h3>
                            <p><strong>Types maîtrisés:</strong> <span id="result-haki">-</span></p>
                            <p><strong>Niveau:</strong> <span id="result-haki-niveau">-</span></p>
                            
                            <h3>Combat</h3>
                            <p><strong>Style de combat:</strong> <span id="result-style-combat">-</span></p>
                            <p><strong>Arme:</strong> <span id="result-arme">-</span></p>
                            <p><strong>Techniques Spéciales:</strong> <span id="result-techniques">-</span></p>
                            
                            <h3>Statistiques</h3>
                            <div class="skill-list">
                                <div class="skill-item">
                                    <span>Force</span>
                                    <span id="result-force">-</span>
                                </div>
                                <div class="skill-item">
                                    <span>Vitesse</span>
                                    <span id="result-vitesse">-</span>
                                </div>
                                <div class="skill-item">
                                    <span>Endurance</span>
                                    <span id="result-endurance">-</span>
                                </div>
                                <div class="skill-item">
                                    <span>Intelligence</span>
                                    <span id="result-intelligence">-</span>
                                </div>
                                <div class="skill-item">
                                    <span>Haki</span>
                                    <span id="result-haki-stat">-</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="tab-content" id="apparence-content">
                        <div class="character-section">
                            <h3>Physique</h3>
                            <p><strong>Taille:</strong> <span id="result-taille">-</span></p>
                            <p><strong>Corpulence:</strong> <span id="result-corpulence">-</span></p>
                            <p><strong>Cheveux:</strong> <span id="result-cheveux">-</span></p>
                            <p><strong>Yeux:</strong> <span id="result-yeux">-</span></p>
                            <p><strong>Peau:</strong> <span id="result-peau">-</span></p>
                            <p><strong>Traits Distinctifs:</strong> <span id="result-traits">-</span></p>
                            
                            <h3>Tenue</h3>
                            <p><strong>Style vestimentaire:</strong> <span id="result-vetements">-</span></p>
                            <p><strong>Accessoires:</strong> <span id="result-accessoires">-</span></p>
                        </div>
                    </div>
                    
                    <div class="tab-content" id="personnalite-content">
                        <div class="character-section">
                            <h3>Traits de Caractère</h3>
                            <p><strong>Personnalité:</strong> <span id="result-personnalite">-</span></p>
                            <p><strong>Rêve/Ambition:</strong> <span id="result-reve">-</span></p>
                            <p><strong>Forces:</strong> <span id="result-forces">-</span></p>
                            <p><strong>Faiblesses:</strong> <span id="result-faiblesses">-</span></p>
                            <p><strong>Relations:</strong> <span id="result-relations">-</span></p>
                            <p><strong>Motto:</strong> <span id="result-motto">-</span></p>
                        </div>
                    </div>
                    
                    <div class="tab-content" id="histoire-content">
                        <div class="character-section">
                            <h3>Histoire</h3>
                            <p id="result-histoire">-</p>
                        </div>
                    </div>
                </div>
                
                <button id="telecharger-btn">Télécharger la Fiche Personnage</button>
            </div>
        </div>
        
        <div class="attribution">
            <p>Générateur de Personnages One Piece - 100% Local, Sans API</p>
        </div>
    </div>
    
    <script>
        // Base de données pour la génération
        const database = {
            noms: {
                homme: ["Monkey D.", "Roronoa", "Sanji", "Usopp", "Franky", "Brook", "Jinbe", "Trafalgar", "Portgas D.", "Eustass", "Marshall D.", "Shanks", "Dracule", "Gol D.", "Edward", "Silvers", "Kizaru", "Aokiji", "Akainu", "Sengoku", "Garp", "Kaido", "Charlotte", "Vinsmoke", "Kozuki", "Buggy", "Crocodile", "Doflamingo", "Bartholomew", "Scratchmen", "Basil", "X"],
                femme: ["Nami", "Nico", "Boa", "Tashigi", "Vivi", "Rebecca", "Jewelry", "Charlotte", "Koala", "Carrot", "Shirahoshi", "Perona", "Alvida", "Miss", "Monet", "Kalifa", "Viola", "Baby", "Yamato", "Ulti", "Smoothie", "Reiju", "Kureha", "Hina", "Devon", "Gloriosa", "Tsuru", "Otohime", "Shakky", "Makino", "Bellemere", "Olvia"],
                prenoms: {
                    homme: ["Luffy", "Zoro", "Vinsmoke", "Chopper", "Tony", "Law", "Ace", "Kid", "Teach", "Mihawk", "Roger", "Newgate", "Rayleigh", "Borsalino", "Kuzan", "Sakazuki", "Gaimon", "Kuro", "Gin", "Don Krieg", "Smoker", "Morgan", "Helmeppo", "Koby", "Yasopp", "Pagaya", "Wiper", "Calgara", "Montblanc", "Nero", "Paulie", "Kaku"],
                    femme: ["Robin", "Hancock", "Nefertari", "Bonney", "Pudding", "Linlin", "Sadi", "Whitey", "Stussy", "Catarina", "Shakuyaku", "Rouge", "Chimney", "Kokoro", "Cindry", "Kaya", "Conis", "Laki", "Porche", "Roji", "Ran", "Marguerite", "Sandersonia", "Marigold", "Brulee", "Flampe", "Galette", "Cinnamon", "Chiffon", "Lola", "Praline", "Amande"]
                },
                surnoms: ["Le Chapeau de Paille", "Le Chasseur de Pirates", "Jambe Noire", "Le Sniper", "Cyborg", "Le Squelette Musicien", "Le Chevalier des Mers", "Le Chirurgien de la Mort", "Poing Ardent", "Captain Kid", "Barbe Noire", "Le Roux", "Œil de Faucon", "Le Roi des Pirates", "Barbe Blanche", "Le Roi Sombre", "Le Singe Jaune", "Le Faisan Bleu", "Le Chien Rouge", "Le Bouddha", "Le Héros de la Marine", "La Créature la Plus Forte", "Big Mom", "Le Flamant Rose", "Le Tyran", "Le Clown", "Mister 0", "Joker", "Kuma le Tyran", "L'Impératrice Pirate", "La Chatte Voleuse", "L'Enfant Démon", "Le Pourfendeur"]
            },
            fruits: {
                paramecia: [
                    {nom: "Gomu Gomu no Mi", capacite: "Transforme le corps en caoutchouc élastique"},
                    {nom: "Bara Bara no Mi", capacite: "Permet de diviser son corps en morceaux"},
                    {nom: "Doru Doru no Mi", capacite: "Produit et manipule de la cire"},
                    {nom: "Kilo Kilo no Mi", capacite: "Modifie le poids du corps"},
                    {nom: "Bomu Bomu no Mi", capacite: "Transforme n'importe quelle partie du corps en bombe"},
                    {nom: "Hana Hana no Mi", capacite: "Fait pousser des parties du corps sur n'importe quelle surface"},
                    {nom: "Doa Doa no Mi", capacite: "Crée des portes sur n'importe quelle surface"},
                    {nom: "Bane Bane no Mi", capacite: "Transforme les parties du corps en ressorts"},
                    {nom: "Ito Ito no Mi", capacite: "Produit et manipule des fils"},
                    {nom: "Ope Ope no Mi", capacite: "Crée un espace opératoire où tout peut être manipulé"},
                    {nom: "Mochi Mochi no Mi", capacite: "Transforme le corps en mochi manipulable"},
                    {nom: "Gura Gura no Mi", capacite: "Génère des tremblements et des séismes"},
                    {nom: "Kage Kage no Mi", capacite: "Manipule les ombres et crée des zombies"},
                    {nom: "Suke Suke no Mi", capacite: "Rend le corps invisible"},
                    {nom: "Nikyu Nikyu no Mi", capacite: "Repousse tout ce que touchent les paumes"},
                    {nom: "Horo Horo no Mi", capacite: "Crée des fantômes qui vidangent le moral"},
                    {nom: "Yomi Yomi no Mi", capacite: "Offre une seconde vie après la mort"},
                    {nom: "Buki Buki no Mi", capacite: "Transforme le corps en armes"},
                    {nom: "Mero Mero no Mi", capacite: "Pétrifie ceux attirés par l'utilisateur"},
                    {nom: "Noro Noro no Mi", capacite: "Ralentit les objets et personnes touchés par les rayons"}
                ],
                zoan: [
                    {nom: "Ushi Ushi no Mi: Model Bison", capacite: "Transformation en bison et forme hybride"},
                    {nom: "Tori Tori no Mi: Model Falcon", capacite: "Transformation en faucon et forme hybride"},
                    {nom: "Inu Inu no Mi: Model Wolf", capacite: "Transformation en loup et forme hybride"},
                    {nom: "Neko Neko no Mi: Model Leopard", capacite: "Transformation en léopard et forme hybride"},
                    {nom: "Zou Zou no Mi", capacite: "Transformation en éléphant et forme hybride"},
                    {nom: "Mushi Mushi no Mi: Model Beetle", capacite: "Transformation en scarabée et forme hybride"},
                    {nom: "Kame Kame no Mi", capacite: "Transformation en tortue et forme hybride"},
                    {nom: "Hebi Hebi no Mi: Model Cobra", capacite: "Transformation en cobra et forme hybride"},
                    {nom: "Sara Sara no Mi: Model Axolotl", capacite: "Transformation en axolotl et forme hybride"},
                    {nom: "Uma Uma no Mi", capacite: "Transformation en cheval et forme hybride"}
                ],
                zoanMythique: [
                    {nom: "Hito Hito no Mi: Model Buddha", capacite: "Transformation en Bouddha avec pouvoir divin"},
                    {nom: "Tori Tori no Mi: Model Phoenix", capacite: "Transformation en phénix avec régénération"},
                    {nom: "Inu Inu no Mi: Model Kyubi", capacite: "Transformation en renard à neuf queues"},
                    {nom: "Hebi Hebi no Mi: Model Yamata no Orochi", capacite: "Transformation en serpent à huit têtes"},
                    {nom: "Ryu Ryu no Mi: Model Quetzalcoatl", capacite: "Transformation en serpent à plumes volant"},
                    {nom: "Neko Neko no Mi: Model Sphinx", capacite: "Transformation en sphinx avec énigmes mystiques"},
                    {nom: "Ushi Ushi no Mi: Model Minotaur", capacite: "Transformation en minotaure avec force colossale"},
                    {nom: "Mushi Mushi no Mi: Model Ganesha", capacite: "Transformation en éléphant divin sagesse"},
                    {nom: "Uma Uma no Mi: Model Pegasus", capacite: "Transformation en cheval ailé avec vol"},
                    {nom: "Kame Kame no Mi: Model Dragon Turtle", capacite: "Transformation en tortue-dragon avec longévité"}
                ],
                zoanAntique: [
                    {nom: "Ryu Ryu no Mi: Model Pteranodon", capacite: "Transformation en ptéranodon et forme hybride"},
                    {nom: "Ryu Ryu no Mi: Model Allosaurus", capacite: "Transformation en allosaure et forme hybride"},
                    {nom: "Ryu Ryu no Mi: Model Spinosaurus", capacite: "Transformation en spinosaure et forme hybride"},
                    {nom: "Ryu Ryu no Mi: Model Brachiosaurus", capacite: "Transformation en brachiosaure et forme hybride"},
                    {nom: "Ryu Ryu no Mi: Model Triceratops", capacite: "Transformation en tricératops et forme hybride"},
                    {nom: "Ryu Ryu no Mi: Model Pachycephalosaurus", capacite: "Transformation en pachycéphalosaure"},
                    {nom: "Ryu Ryu no Mi: Model Ankylosaurus", capacite: "Transformation en ankylosaure avec armure"},
                    {nom: "Ryu Ryu no Mi: Model Stegosaurus", capacite: "Transformation en stégosaure avec pointes"},
                    {nom: "Ryu Ryu no Mi: Model Velociraptor", capacite: "Transformation en vélociraptor et rapidité"},
                    {nom: "Ryu Ryu no Mi: Model Mosasaurus", capacite: "Transformation en mosasaure marin"}
                ],
                                logia: [
                    {nom: "Moku Moku no Mi", capacite: "Transformation et contrôle de la fumée"},
                    {nom: "Mera Mera no Mi", capacite: "Transformation et contrôle du feu"},
                    {nom: "Suna Suna no Mi", capacite: "Transformation et contrôle du sable"},
                    {nom: "Goro Goro no Mi", capacite: "Transformation et contrôle de l'électricité"},
                    {nom: "Hie Hie no Mi", capacite: "Transformation et contrôle de la glace"},
                    {nom: "Yami Yami no Mi", capacite: "Transformation et contrôle des ténèbres"},
                    {nom: "Pika Pika no Mi", capacite: "Transformation et contrôle de la lumière"},
                    {nom: "Magu Magu no Mi", capacite: "Transformation et contrôle du magma"},
                    {nom: "Numa Numa no Mi", capacite: "Transformation et contrôle du marécage"},
                    {nom: "Gasu Gasu no Mi", capacite: "Transformation et contrôle du gaz"}
                ]
            },
            haki: {
                types: ["Observation", "Armement", "Royal"],
                niveaux: ["Novice", "Intermédiaire", "Avancé", "Maître"]
            },
            apparence: {
                tailles: ["Très petit (1m20)", "Petit (1m50)", "Moyen (1m75)", "Grand (2m)", "Très grand (3m+)", "Gigantesque (10m+)"],
                corpulences: ["Maigre", "Athlétique", "Musclé", "Corpulent", "Obèse", "Élancé"],
                cheveux: ["Noirs", "Blonds", "Roux", "Bruns", "Blancs", "Bleus", "Verts", "Arc-en-ciel"],
                styles: ["Décontracté", "Marin", "Militaire", "Noble", "Tribal", "Excentrique"]
            }
        };

        // Génération aléatoire
        function getRandom(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }

        function generateName(gender) {
            const genre = gender === 'aléatoire' ? getRandom(['homme', 'femme', 'autre']) : gender;
            const nom = getRandom(database.noms[genre === 'autre' ? 'homme' : genre]);
            const prenom = genre === 'femme' 
                ? getRandom(database.noms.prenoms.femme)
                : getRandom(database.noms.prenoms.homme);
            const surnom = getRandom(database.noms.surnoms);
            
            return {
                nomComplet: `${nom} ${prenom}`,
                surnom: `"${surnom}"`
            };
        }

        function generateFruit(type) {
            if(type === 'aucun') return null;
            const categorie = type === 'aléatoire' 
                ? getRandom(['paramecia', 'zoan', 'logia', 'zoan-mythique', 'zoan-antique']) 
                : type;
            
            return {
                type: categorie,
                ...getRandom(database.fruits[
                    categorie.replace(' ', '').toLowerCase()
                ])
            };
        }

        // Génération des statistiques
        function generateStats(race, fruit) {
            const stats = {
                force: Math.floor(Math.random() * 100),
                vitesse: Math.floor(Math.random() * 100),
                endurance: Math.floor(Math.random() * 100),
                intelligence: Math.floor(Math.random() * 100),
                haki: Math.floor(Math.random() * 100)
            };

            // Modificateurs de race
            if(race === 'géant') {
                stats.force += 30;
                stats.endurance += 20;
                stats.vitesse -= 15;
            }
            if(race === 'homme-poisson') stats.endurance += 25;
            if(race === 'mink') stats.vitesse += 30;

            // Modificateur de fruit
            if(fruit?.type === 'logia') {
                stats.endurance += 15;
                stats.intelligence += 10;
            }

            return stats;
        }

        // Gestion des événements
        document.getElementById('generer-btn').addEventListener('click', () => {
            const gender = document.getElementById('sexe').value;
            const race = document.getElementById('race').value === 'aléatoire' 
                ? getRandom(['humain', 'géant', 'homme-poisson', 'mink', 'tontatta']) 
                : document.getElementById('race').value;
            
            const personnage = {
                ...generateName(gender),
                age: Math.floor(Math.random() * 80) + 15,
                sexe: gender === 'aléatoire' ? getRandom(['Homme', 'Femme', 'Non-binaire']) : gender,
                race,
                faction: document.getElementById('faction').value === 'aléatoire' 
                    ? getRandom(['pirate', 'marine', 'révolutionnaire']) 
                    : document.getElementById('faction').value,
                fruit: generateFruit(document.getElementById('fruit-du-demon').value),
                haki: document.getElementById('haki').value === 'aléatoire' 
                    ? getRandom(database.haki.types) 
                    : document.getElementById('haki').value,
                origine: document.getElementById('lieu-origine').value === 'aléatoire' 
                    ? getRandom(['East Blue', 'Grand Line', 'Nouveau Monde']) 
                    : document.getElementById('lieu-origine').value,
                stats: {}
            };

            personnage.stats = generateStats(race, personnage.fruit);
            
            // Mise à jour de l'interface
            document.getElementById('result-nom').textContent = personnage.nomComplet;
            document.getElementById('result-surnom').textContent = personnage.surnom;
            document.getElementById('result-age').textContent = personnage.age;
            document.getElementById('result-sexe').textContent = personnage.sexe;
            document.getElementById('result-race').textContent = personnage.race;
            document.getElementById('result-faction').textContent = personnage.faction;
            document.getElementById('result-fruit-nom').textContent = personnage.fruit?.nom || 'Aucun';
            document.getElementById('result-fruit-type').textContent = personnage.fruit?.type || '-';
            document.getElementById('result-haki').textContent = personnage.haki;

            // Mise à jour des statistiques
            Object.keys(personnage.stats).forEach(stat => {
                document.getElementById(`result-${stat}`).textContent = personnage.stats[stat];
            });
        });

        // Gestion des onglets
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.tab, .tab-content').forEach(el => {
                    el.classList.remove('active');
                });
                tab.classList.add('active');
                document.getElementById(`${tab.dataset.tab}-content`).classList.add('active');
            });
        });

        // Réinitialisation
        document.getElementById('reinitialiser-btn').addEventListener('click', () => {
            document.querySelectorAll('input, select').forEach(el => {
                if(el.type !== 'button') el.value = 'aléatoire';
            });
        });
    </script>
</body>
</html>